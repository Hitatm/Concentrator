<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>网络服务调度</title>
    <link href="../../static/ui-chose/src/ui-choose.css" rel="stylesheet" type="text/css"/>
    <link href="../../static/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

    <link href="../../static/bootstrap-3.3.5/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css"/>


	<style>
    .demo-box {
        margin: 40px auto;
        width: 800px;
        padding: 20px;
        border: 3px solid #ccc;
    }

    .demo-table {
        border-collapse: collapse;
        width: 100%;
    }

    .demo-table caption {
        border-bottom: 1px dashed #ccc;
        height: 40px;
        margin-bottom: 20px;
    }

    .demo-table tr td {
        padding: 0px 10px;
        vertical-align: top;
    }

    .ui-input {
        vertical-align: top;
        height: 20px;
        font-size: 16px;
        line-height: 20px;
        border: 1px solid #aaa;
        padding: 6px 8px;
        border-radius: 3px;
    }
		.jq22-header h1{ text-align: center; font-size: 16px; }
    </style>
<script src="../../static/bootstrap-3.3.5/js/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="../../static/ui-chose/src/ui-choose.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready( function(){
    var uc_init = $('#uc_example').ui_choose();
    var arr = {{scheduleNow|tojson}};
    uc_init.val(JSON.parse(arr).lists);
    });
</script>


</head>
<body>

	<header class="jq22-header">
	<h1 style="font-size:20px">选择网络调度</h1>
	</header>
    <br>
    <div class="container" align="center">
    <button class="btn btn-success" onclick="recommend2()" style="font-size:18px">推荐调度1</button>
    <button class="btn btn-warning" onclick="recommend3()" style="font-size:18px">推荐调度2</button>
    <button class="btn btn-danger" onclick="recommend1()" style="font-size:18px">推荐调度3</button>
    </div>
<br>

	                    <select class="ui-choose" multiple="multiple" id="uc_example" >
	                        <option value="0">00:00</option>
                            <option value="1">00:10</option>
                            <option value="2">00:20</option>
                            <option value="3">00:30</option>
                            <option value="4">00:40</option>
                            <option value="5">00:50</option>
                            <option value="6">01:00</option>
                            <option value="7">01:10</option>
                            <option value="8">01:20</option>
                            <option value="9">01:30</option>
                            <option value="10">01:40</option>
                            <option value="11">01:50</option>
                            <option value="12">02:00</option>
                            <option value="13">02:10</option>
                            <option value="14">02:20</option>
                            <option value="15">02:30</option>
                            <option value="16">02:40</option>
                            <option value="17">02:50</option>
                            <option value="18">03:00</option>
                            <option value="19">03:10</option>
                            <option value="20">03:20</option>
                            <option value="21">03:30</option>
                            <option value="22">03:40</option>
                            <option value="23">03:50</option>
                            <option value="24">04:00</option>
                            <option value="25">04:10</option>
                            <option value="26">04:20</option>
                            <option value="27">04:30</option>
                            <option value="28">04:40</option>
                            <option value="29">04:50</option>
                            <option value="30">05:00</option>
                            <option value="31">05:10</option>
                            <option value="32">05:20</option>
                            <option value="33">05:30</option>
                            <option value="34">05:40</option>
                            <option value="35">05:50</option>
                            <option value="36">06:00</option>
                            <option value="37">06:10</option>
                            <option value="38">06:20</option>
                            <option value="39">06:30</option>
                            <option value="40">06:40</option>
                            <option value="41">06:50</option>
                            <option value="42">07:00</option>
                            <option value="43">07:10</option>
                            <option value="44">07:20</option>
                            <option value="45">07:30</option>
                            <option value="46">07:40</option>
                            <option value="47">07:50</option>
                            <option value="48">08:00</option>
                            <option value="49">08:10</option>
                            <option value="50">08:20</option>
                            <option value="51">08:30</option>
                            <option value="52">08:40</option>
                            <option value="53">08:50</option>
                            <option value="54">09:00</option>
                            <option value="55">09:10</option>
                            <option value="56">09:20</option>
                            <option value="57">09:30</option>
                            <option value="58">09:40</option>
                            <option value="59">09:50</option>
                            <option value="60">10:00</option>
                            <option value="61">10:10</option>
                            <option value="62">10:20</option>
                            <option value="63">10:30</option>
                            <option value="64">10:40</option>
                            <option value="65">10:50</option>
                            <option value="66">11:00</option>
                            <option value="67">11:10</option>
                            <option value="68">11:20</option>
                            <option value="69">11:30</option>
                            <option value="70">11:40</option>
                            <option value="71">11:50</option>
                            <option value="72">12:00</option>
                            <option value="73">12:10</option>
                            <option value="74">12:20</option>
                            <option value="75">12:30</option>
                            <option value="76">12:40</option>
                            <option value="77">12:50</option>
                            <option value="78">13:00</option>
                            <option value="79">13:10</option>
                            <option value="80">13:20</option>
                            <option value="81">13:30</option>
                            <option value="82">13:40</option>
                            <option value="83">13:50</option>
                            <option value="84">14:00</option>
                            <option value="85">14:10</option>
                            <option value="86">14:20</option>
                            <option value="87">14:30</option>
                            <option value="88">14:40</option>
                            <option value="89">14:50</option>
                            <option value="90">15:00</option>
                            <option value="91">15:10</option>
                            <option value="92">15:20</option>
                            <option value="93">15:30</option>
                            <option value="94">15:40</option>
                            <option value="95">15:50</option>
                            <option value="96">16:00</option>
                            <option value="97">16:10</option>
                            <option value="98">16:20</option>
                            <option value="99">16:30</option>
                            <option value="100">16:40</option>
                            <option value="101">16:50</option>
                            <option value="102">17:00</option>
                            <option value="103">17:10</option>
                            <option value="104">17:20</option>
                            <option value="105">17:30</option>
                            <option value="106">17:40</option>
                            <option value="107">17:50</option>
                            <option value="108">18:00</option>
                            <option value="109">18:10</option>
                            <option value="110">18:20</option>
                            <option value="111">18:30</option>
                            <option value="112">18:40</option>
                            <option value="113">18:50</option>
                            <option value="114">19:00</option>
                            <option value="115">19:10</option>
                            <option value="116">19:20</option>
                            <option value="117">19:30</option>
                            <option value="118">19:40</option>
                            <option value="119">19:50</option>
                            <option value="120">20:00</option>
                            <option value="121">20:10</option>
                            <option value="122">20:20</option>
                            <option value="123">20:30</option>
                            <option value="124">20:40</option>
                            <option value="125">20:50</option>
                            <option value="126">21:00</option>
                            <option value="127">21:10</option>
                            <option value="128">21:20</option>
                            <option value="129">21:30</option>
                            <option value="130">21:40</option>
                            <option value="131">21:50</option>
                            <option value="132">22:00</option>
                            <option value="133">22:10</option>
                            <option value="134">22:20</option>
                            <option value="135">22:30</option>
                            <option value="136">22:40</option>
                            <option value="137">22:50</option>
                            <option value="138">23:00</option>
                            <option value="139">23:10</option>
                            <option value="140">23:20</option>
                            <option value="141">23:30</option>
                            <option value="142">23:40</option>
                            <option value="143">23:50</option>
                        </select>
<br/>
<br/>
<div class="container" align="center">
<input type="text" id="period" style="height: 40px;" onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')" placeholder="请输入时间同步周期"/>
<button class="btn btn-primary" onclick="sendmap_withtime()" style="font-size:18px">时间同步周期设置</button>
&nbsp;&nbsp;&nbsp;
<button onclick="sendmap()" class="btn btn-success" style="font-size:18px">下发调度</button>
<button class="btn btn-warning" onclick="chooseall()" style="font-size:18px">全选</button>
<button class="btn btn-info" onclick="cancelall()" style="font-size:18px">全部取消</button>
</div>




<script type="text/javascript">
    function chooseall(){
         $.ajax({
        type:"post",
        url:"{{url_for('setall_schedule')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        success: function(dat) { 
            if (dat =="1")
            {
                 location.reload();
            }
        }
    });
    }

</script>

<script type="text/javascript">
    function cancelall(){
         $.ajax({
        type:"post",
        url:"{{url_for('cancelall_schedule')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        success: function(dat) { 
            if (dat =="2")
            {
                 location.reload();
            }
        }
    });
    }

</script>
<script type="text/javascript">
    function recommend1(){
         $.ajax({
        type:"post",
        url:"{{url_for('recommend_schedule1')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        success: function(dat) { 
            if (dat =="2")
            {
                 location.reload();
            }
        }
    });
    }

    function recommend2(){
         $.ajax({
        type:"post",
        url:"{{url_for('recommend_schedule2')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        success: function(dat) { 
            if (dat =="2")
            {
                 location.reload();
            }
        }
    });
    }

    function recommend3(){
         $.ajax({
        type:"post",
        url:"{{url_for('recommend_schedule3')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        success: function(dat) { 
            if (dat =="2")
            {
                 location.reload();
            }
        }
    });
    }

</script>

	<script>
	// 将所有.ui-choose实例化
	$('.ui-choose').ui_choose();
	var uc_example = $('#uc_example').ui_choose();
	uc_example.click = function(value, item) {
	    console.log('click', value);
	};
    function sendmap()
    {
    var uc_example = $('#uc_example').ui_choose();
    var array = new Array();  //定义数组
    array=$("#uc_example").val();

  var data = {
    "x": array,
    "p": ""
}
    $.ajax({
        type:"post",
        url:"{{url_for('update_schedule')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        data: JSON.stringify(data),
        // data: JSON.stringify({x: array}),
        success: function(dat) { console.log(dat)}
    });
}
	</script>
<script type="text/javascript">
    function sendmap_withtime()
    {
    var uc_example = $('#uc_example').ui_choose();
    var array = new Array();  //定义数组
    array=$("#uc_example").val();

    var period = $("#period").val();
    console.log(period);
    var data = {
        "x": array,
        "p": period
    }
    $.ajax({
        type:"post",
        url:"{{url_for('update_schedule')}}",
        cache:false,
        contentType: "application/json;charset=UTF-8",
        dataType:"json",
        data: JSON.stringify(data),
        // data: JSON.stringify({x: array}),
        success: function(dat) { console.log(dat)}
    });
}
    </script>

</body>
</html>


